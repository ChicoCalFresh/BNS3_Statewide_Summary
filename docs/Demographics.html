<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.319">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>BNS Statewide - Demographics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">BNS Statewide</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Demographics.html" rel="" target="" aria-current="page">
 <span class="menu-text">Demographics</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#personal-demographics" id="toc-personal-demographics" class="nav-link active" data-scroll-target="#personal-demographics">Personal Demographics</a>
  <ul class="collapse">
  <li><a href="#age" id="toc-age" class="nav-link" data-scroll-target="#age">Age</a></li>
  <li><a href="#gender-identity" id="toc-gender-identity" class="nav-link" data-scroll-target="#gender-identity">Gender Identity</a></li>
  <li><a href="#ethnicity" id="toc-ethnicity" class="nav-link" data-scroll-target="#ethnicity">Ethnicity</a></li>
  <li><a href="#race" id="toc-race" class="nav-link" data-scroll-target="#race">Race</a></li>
  <li><a href="#dependents" id="toc-dependents" class="nav-link" data-scroll-target="#dependents">Dependents</a></li>
  <li><a href="#parents-education" id="toc-parents-education" class="nav-link" data-scroll-target="#parents-education">Parents Education</a>
  <ul class="collapse">
  <li><a href="#first-generation" id="toc-first-generation" class="nav-link" data-scroll-target="#first-generation">First Generation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#academic-characteristics" id="toc-academic-characteristics" class="nav-link" data-scroll-target="#academic-characteristics">Academic Characteristics</a>
  <ul class="collapse">
  <li><a href="#school" id="toc-school" class="nav-link" data-scroll-target="#school">School</a></li>
  <li><a href="#class-standing" id="toc-class-standing" class="nav-link" data-scroll-target="#class-standing">Class Standing</a></li>
  <li><a href="#major" id="toc-major" class="nav-link" data-scroll-target="#major">Major</a></li>
  <li><a href="#overall-gpa" id="toc-overall-gpa" class="nav-link" data-scroll-target="#overall-gpa">Overall GPA</a></li>
  <li><a href="#currently-enrolled-units" id="toc-currently-enrolled-units" class="nav-link" data-scroll-target="#currently-enrolled-units">Currently Enrolled Units</a></li>
  <li><a href="#student-identifiers" id="toc-student-identifiers" class="nav-link" data-scroll-target="#student-identifiers">Student Identifiers</a>
  <ul class="collapse">
  <li><a href="#i-identify-as" id="toc-i-identify-as" class="nav-link" data-scroll-target="#i-identify-as">I identify as…</a></li>
  <li><a href="#disability-support-services" id="toc-disability-support-services" class="nav-link" data-scroll-target="#disability-support-services">Disability Support Services</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Demographics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="personal-demographics" class="level1">
<h1>Personal Demographics</h1>
<p>The following set of questions were asked in regards to the students’ personal demographics. This includes the students’ age, ethnicities they identify with, and the number of dependents they are responsible for taking care of. They were also asked about parents’ education, which will help us identify first generation college students.</p>
<section id="age" class="level2">
<h2 class="anchored" data-anchor-id="age">Age</h2>
<p><em>The following was determined by taking the difference between birth date and the time at which the survey was completed (n=2110, 100% of 2110 reporting)</em></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The age of students in the survey range from 18 to 72 at the time of completion, with the majority of students being between 20-30 years old. The average age of a participant in this survey is 24.6 years old. <br></p>
</section>
<section id="gender-identity" class="level2">
<h2 class="anchored" data-anchor-id="gender-identity">Gender Identity</h2>
<p><strong>What is your gender identity? (n=2094, 99% of 2110 reporting)</strong></p>
<div class="row">

<div class="col-md-7">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<p>Of the students in the survey, 1642 of them identify as a woman, 407 identify as a man, and 27 identify as gender non-binary. There are also students who preferred not to answer.</p>
</div></section>
<section id="ethnicity" class="level2">
<h2 class="anchored" data-anchor-id="ethnicity">Ethnicity</h2>
<p><strong>In the US Census, Hispanic Origins are not races. Do you identify as Hispanic or Latino or Spanish Origin? (n=2070, 98% of 2110 reporting)</strong></p>
<div class="row">
<div class="col-md-6">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="col-md-5">
<p>We define Hispanic Origin to include: Mexican, Mexican American, Chicano, Puerto Rican, or another Hispanic/Latino/Spanish origin. The data indicates that the majority of students identify as having Hispanic Origins (1436 students), while around a quarter of them do not identify as having Hispanic Origins (634 students).</p>
</div>
</div>
<p><br></p>
</section>
<section id="race" class="level2">
<h2 class="anchored" data-anchor-id="race">Race</h2>
<p><strong>What race do you identify as? Select all that apply (n=2110, 100% of 2110 reporting)</strong> <em>Note that the survey included 14 race options that were collapsed down to 5 broad groups defined by <a href="https://www.census.gov/quickfacts/fact/note/US/RHI625219">census.gov</a>.</em></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Yes (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">White</td>
<td style="text-align: left;">859 (40.7%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Prefer not to answer race</td>
<td style="text-align: left;">755 (35.8%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Asian</td>
<td style="text-align: left;">321 (15.2%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Black or African American</td>
<td style="text-align: left;">167 (7.9%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">American Indian and Alaska Native</td>
<td style="text-align: left;">106 (5.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Native Hawaiian and Other Pacific Islander</td>
<td style="text-align: left;">40 (1.9%)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="dependents" class="level2">
<h2 class="anchored" data-anchor-id="dependents">Dependents</h2>
<p><strong>If you have dependents, then how many of them receive more than 50% of their financial support from you? (n=600, 28% of 2110 reporting)</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
<p>The majority of students who report having at least one dependent also report that they provide more than 50% of financial support to at least one dependent (493 students).</p>
<p><br></p>
</section>
<section id="parents-education" class="level2">
<h2 class="anchored" data-anchor-id="parents-education">Parents Education</h2>
<p><strong>What is the highest level of education completed by your parents/guardians? (n=2083, 99% of 2110 reporting)</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="720"></p>
</figure>
</div>
</div>
</div>
<p><em>Note: Variables filled with yellow above are used to show the conditions used to build the First Generation variable</em>.</p>
<p>The highest level of education completed by most students’ parents was “Less than high school” (719), while 584 students reported their parents highest level is “High school diploma or GED”, and 394 report their parents highest level is “Some college”. Only a minority of students (125) indicated that their parents have a bachelor’s degree or higher.</p>
<section id="first-generation" class="level3">
<h3 class="anchored" data-anchor-id="first-generation">First Generation</h3>
<p><em>Note: Students with parents education identified as “Other/Unknown” were not marked as first gen or not since they could not be determined.</em> <strong>(n=2017, 96% of 2110 reporting)</strong></p>
<div class="row">
<div class="col-md-6">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="col-md-5">
<p>1892 students are considered as First Generation College students and 125 students are not considered First Generation College students.</p>
</div>
</div>
<p>As defined by the <a href="https://www.universityofcalifornia.edu/sites/default/files/First-Generation%20Student%20Success%20at%20UC%208-2017.pdf">University of California</a> first generation students are “working to be part of the first generation in their families to earn a four-year university degree”. This means based upon parents education, students in the data set are considered first generation if their parents do not have a Bachelor’s or Master’s degree from a four-year university. From the <em>Parents Education</em> graph, all bars highlighted as yellow are considered first gen, while all bars in blue are not (excluding Other/Unknown).</p>
</section>
</section>
</section>
<section id="academic-characteristics" class="level1">
<h1>Academic Characteristics</h1>
<p>The following set of questions were asked in regards to the students’ academic status. This includes information such as what college they are currently enrolled in, their class standing, major, GPA, and enrolled units. They were also asked questions about programs they participate in as well as what type of student they are (transfer, international, etc.) to help identify students.</p>
<p><br></p>
<section id="school" class="level2">
<h2 class="anchored" data-anchor-id="school">School</h2>
<p><strong>Which campus do you attend? (n=2110, 100% of 2110 reporting)</strong></p>
<div class="row">

<div class="col-md-7">


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Twelve campuses participated in this statewide survey. Of the twelve campuses, five were community colleges, six were California State Universities, and one was a University of California. The majority of students (1238) were currently enrolled in a state school. Fewer students (690) reported enrollment in a community college, and a small minority (182) reported enrollment in a UC. <br></p>
<p>consider using ggdotchart and color/org by sector https://rpkgs.datanovia.com/ggpubr/reference/ggdotchart.html (this is a note for Robin and Saul to do. leave it.)</p>
</div></div></section>
<section id="class-standing" class="level2">
<h2 class="anchored" data-anchor-id="class-standing">Class Standing</h2>
<p><strong>Estimate your class standing by units completed (n=2065, 98% of 2110 reporting)</strong></p>
<div class="row">

<div class="col-md-7">


<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="528"></p>
</figure>
</div>
</div>
</div>
<p>The Statewide survey captures students of all class standing. Of the 2065 students, there were 565 freshmen, 433 sophomores, 579 juniors, and 444 seniors.</p>
</div></div></section>
<section id="major" class="level2">
<h2 class="anchored" data-anchor-id="major">Major</h2>
<p><strong>Which of the following categories best describes your major? (n=2089, 99% of 2110 reporting)</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="816"></p>
</figure>
</div>
</div>
</div>
<p><em>NOTE: Science, Technology, Engineering and Math (STEM) was shortened for the figure above, but also includes the following majors: Medicine, Computer Science, Agriculture, Accounting, Statistics, Nursing, and Nutrition.</em></p>
<p>The majority of students in the data are majoring in a Public Health, Social Services, Social Science, and Education program (680 students). 624 of the students are Science, Technology, Engineering and Math (STEM) majors.</p>
<p><br></p>
</section>
<section id="overall-gpa" class="level2">
<h2 class="anchored" data-anchor-id="overall-gpa">Overall GPA</h2>
<p><strong>What is your approximate overall grade point average (GPA)? (n=2063, 98% of 2110 reporting)</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="528"></p>
</figure>
</div>
</div>
</div>
<p>The average overall GPA for students is 3.31, while the median is 3.4. The majority (65.5%) of students have a GPA greater than 3.0.</p>
<p><br></p>
</section>
<section id="currently-enrolled-units" class="level2">
<h2 class="anchored" data-anchor-id="currently-enrolled-units">Currently Enrolled Units</h2>
<p><strong>How many units are you currently taking? (n=2090, 99% of 2110 reporting)</strong></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Demographics_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The average number of units a student is enrolled in is 12.86 units, while the median is 13 units. The majority of students are considered full-time (12 or more units), with 12 units being the highest occurring and 15 units being the second highest occurring.</p>
<p><br></p>
</section>
<section id="student-identifiers" class="level2">
<h2 class="anchored" data-anchor-id="student-identifiers">Student Identifiers</h2>
<p>The following tables contain separate questions that were asked as a series of Yes/No responses to help further understand students. They were grouped together in this page by the start of the question.</p>
<section id="i-identify-as" class="level3">
<h3 class="anchored" data-anchor-id="i-identify-as">I identify as…</h3>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Yes (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A Transfer Student. (n = 2008)</td>
<td style="text-align: left; width: 3.5cm;">742 (37.0%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">An ESL (English as a Second Language) student. (n = 2020)</td>
<td style="text-align: left; width: 3.5cm;">581 (28.8%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LGBTQA+. (n = 1997)</td>
<td style="text-align: left; width: 3.5cm;">295 (14.8%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">A student with a disability. (n = 2013)</td>
<td style="text-align: left; width: 3.5cm;">248 (12.3%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A DREAM (i.e. undocumented) student. (n = 2081)</td>
<td style="text-align: left; width: 3.5cm;">148 (7.1%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">A former foster youth/child. (n = 2084)</td>
<td style="text-align: left; width: 3.5cm;">127 (6.1%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A non-California resident (not International). (n = 2059)</td>
<td style="text-align: left; width: 3.5cm;">76 (3.7%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">A DACA (i.e. Deferred Action for Childhood Arrivals) student. (n = 2073)</td>
<td style="text-align: left; width: 3.5cm;">65 (3.1%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A student athlete. (n = 2073)</td>
<td style="text-align: left; width: 3.5cm;">50 (2.4%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">An International student. (n = 2079)</td>
<td style="text-align: left; width: 3.5cm;">22 (1.1%)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">A Veteran of military service. (n = 2100)</td>
<td style="text-align: left; width: 3.5cm;">14 (0.7%)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="disability-support-services" class="level3">
<h3 class="anchored" data-anchor-id="disability-support-services">Disability Support Services</h3>
<p><em>Note</em>: This name varies by campus and may not always be called the Disability Support Service Center.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table table-striped table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Yes (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">I identify as a student with a disability (n = 2013)</td>
<td style="text-align: left; width: 3.5cm;">248 (12.3%)</td>
</tr>
<tr class="even">
<td style="text-align: left;">I receive services through my campus for a disability (n = 2065)</td>
<td style="text-align: left; width: 3.5cm;">195 (9.4%)</td>
</tr>
</tbody>
</table>


</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>